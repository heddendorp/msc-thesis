# Coverage Git compare CLI
This is a small CLI tool to make use of the files generated by the [cypress-plugin-mulitlanguage-coverage](../cypress-plugin-multilanguage-coverage/README.md) plugin.   
It will compare the collected coverage with the git changes specified and show if changed files are covered by tests.

## Installation
Make sure to follow GitHub's guide on [how to install a npm package from their registry](https://docs.github.com/en/packages/working-with-a-github-packages-registry/working-with-the-npm-registry#installing-a-package).
You will have to [create a personal access](https://github.com/settings/tokens/new) token with the `read:packages` scope and use it to log in to npm.
```bash
npm login --scope=@heddendorp --registry=https://npm.pkg.github.com

# Username: USERNAME
# Password: TOKEN
# Email: PUBLIC-EMAIL-ADDRESS
```

```bash
npm install -D @heddendorp/coverage-git-compare
```

You can find the releases of the package on [GitHub](https://github.com/heddendorp/msc-thesis/pkgs/npm/coverage-git-compare).


## Usage
Make sure you have collected coverage data with the [cypress-plugin-mulitlanguage-coverage](../cypress-plugin-multilanguage-coverage/README.md) plugin before getting started.   
You can run the plugin with the following command:
```bash
npx coverage-git-compare compare
```
You can also specify a commit from which changes should be compared to the current state:
```bash
npx coverage-git-compare compare -c <commit>
```
_Ideally this is the commit where tests last passed_


## References
- TypeScript project setup by [DigitalOcean](https://www.digitalocean.com/community/tutorials/typescript-new-project)
- Building a CLI tool by [Jeroen Ouwehand](https://itnext.io/how-to-create-your-own-typescript-cli-with-node-js-1faf7095ef89)
- [gitlog library](https://www.npmjs.com/package/gitlog)
