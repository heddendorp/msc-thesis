% Add common preamble to the document
\input{common/preamble.tex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Theses specific packages go here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[printonlyused]{acronym}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Begin of document
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}
\setlength{\evensidemargin}{22pt}
\setlength{\oddsidemargin}{22pt}


\hypersetup{pdfborder={0 0 0}, pdfauthor={\author}, pdftitle={\title}}

\lstset{showspaces=false, numbers=left, frame=single, basicstyle=\small}

\pagenumbering{alph}

%------- Cover and Title setup -------
\include{common/cover}
\include{common/titlepage}

%------- Disclaimer -------
\newpage
\thispagestyle{empty}
\mbox{}
\include{thesis_tex/disclaimer}

%------- Acknowledgements -------
% \newpage
% \thispagestyle{empty}
% \mbox{}
% \include{thesis_tex/acknowledgement}

\pagenumbering{roman}

%------- Abstracts -------
\selectlanguage{english}
\include{thesis_tex/abstract_en}
\clearpage
% \selectlanguage{german}
% \include{thesis_tex/abstract_de}
% \clearpage
% \selectlanguage{english}

%------- Table of contents -------
\tableofcontents
\clearpage

\clearpage

%------- Common Acronyms -------
\include{common/acronyms}
\pagenumbering{arabic}

\fancyhead{}
\pagestyle{fancy}
\fancyhead[LE]{\slshape \leftmark}
\fancyhead[RO]{\slshape \rightmark}
\headheight=15pt




%------- chapter 1 -------

\chapter{Introduction}\label[chapter]{introduction}
Software testing is an integral part of the software development process that ensures a system's quality and dependability. With the execution of test cases, one of the primary goals of software testing is to detect software bugs or errors. In a perfect world, test cases would be deterministic, meaning that given the same input, they would always yield the same output. In practice, however, test cases can be non-deterministic or "flaky" \cite{luo_empirical_2014} meaning they can fail intermittently without any modification to the code being tested or the test itself. \Ac{UI} tests, which frequently require asynchronous activities and limited computer resources, might be especially susceptible to unstable testing \cite{romano_empirical_2021}.

Flaky tests can waste resources, increase development time and erode confidence in the testing procedure. Google estimates that about 16\% of tests are flaky \cite{micco_state_2017}. Even given the importance of testing, the detection of flaky tests is still a challenge. The most common approach to identify flaky tests is rerunning \cite{lam_idflakies_2019}. However, rerunning has several downsides, such as consuming significant computational resources, generating false positives, and potentially missing certain types of flaky tests \cite{bell_deflaker_2018, luo_empirical_2014}.

To provide an alternative for \ac{E2E} tests, his thesis focuses on identifying flaky failures by applying a technique for detecting flaky unit test failures proposed by Bell et al in their DeFlaker paper \cite{bell_deflaker_2018} to \ac{E2E} tests. In DeFlaker Bell et al show that by comparing the code covered by running a test with the changes since the last passing of that test, a good estimation can be made to wether or not a failure is flaky. To evaluate our approach we selected two open source projects as case studies. Artemis \cite{krusche_artemis_2018} is a web-based learning platform for programming exercises. It uses Java for server code and JavaScript for the clientside code. n8n \cite{noauthor_n8n_2023} is a workflow automation tool written in TypeScript for both server and client. Both projects use Cypress \cite{noauthor_cypress-iocypress_2023} for \ac{E2E} testing.

The primary objectives of this thesis are as follows:
\begin{enumerate}
	\item Develop a tool to collect code coverage information for \ac{E2E} across server and client code.
	\item Determine if a failure is likely to be flaky based on the changes since the last pass and the covered code.
	\item Evaluate recall and precision of the approach compared to rerunning the test.
\end{enumerate}

The remainder of this thesis is organized as follows:
In \cref{background} we will give some background information on the topic of \ac{E2E} testing, flaky tests, and coverage collection. 
We will review current alternative approaches in \cref{related_work}.
In \cref{methodology} we will describe the methodology used in the project, including the instrumentation, data collection and environment setup.
In \cref{evaluation} we will present the results of the project and answer our research questions. 
In \cref{threats} we will discuss the limitations of the project and in \cref{conclusion} we will summarize results of the evaluation and discuss future work.



%------- chapter 2 -------

\chapter{Background}\label[chapter]{background}

\section{E2E Testing}

\section{Flaky Tests}

\section{Coverage Collection}



%------- chapter 3 -------

\chapter{Related Work}\label[chapter]{related_work}

\textit{Note: Describe related work regarding your topic and emphasize your (scientific) contribution in \textbf{contrast} to existing approaches / concepts / workflows. Related work is usually current research by others and you defend yourself against the statement: ``Why is your thesis relevant? The problem was already solved by XYZ.'' If you have multiple related works, use subsections to separate them.}

\section{E2E Testing}

\section{Flaky Tests}

\section{Coverage Collection}


%------- chapter 4 -------

\chapter{Methodology}\label[chapter]{methodology}

\section{Instrumentation}

\subsection{Server}

\subsection{Client}

\section{Change Collection}

\subsection{File Level}

\subsection{Line Level}

\section{Implementation}

%------- chapter 5 -------

\chapter{Evaluation}\label[chapter]{evaluation}

\section{Research Questions}

\section{Evaluation Setup}

\subsection{Artemis (Bamboo)}

\subsection{n8n (GitHub)}

\section{Evaluation Results}

\section{Discussion}


%------- chapter 6 -------

\chapter{Threats to Validity}\label[chapter]{threats}

\section{Threats to Internal Validity}

\section{Threats to External Validity}


%------- chapter 7 -------

\chapter{Conclusion}\label[chapter]{conclusion}

\textit{Note: This chapter includes the status of your thesis, a conclusion and an outlook about future work.}

\section{Status}

\textit{Note: Describe honestly the achieved goals (e.g. the well implemented and tested use cases) and the open goals here. if you only have achieved goals, you did something wrong in your analysis.}

\begin{itemize}
	\item [\Circle]
	\item [\LEFTcircle]
	\item [\CIRCLE]
\end{itemize}

\subsection{Realized Goals}

\textit{Note: Summarize the achieved goals by repeating the realized requirements or use cases stating how you realized them.}

\subsection{Open Goals}

\textit{Note: Summarize the open goals by repeating the open requirements or use cases and explaining why you were not able to achieve them. \textbf{Important:} It might be suspicious, if you do not have open goals. This usually indicates that you did not thoroughly analyze your problems.}

\section{Conclusion}

\textit{Note: Recap shortly which problem you solved in your thesis and discuss your \textbf{contributions} here.}

\section{Future Work}

\textit{Note: Tell us the next steps  (that you would do if you have more time). Be creative, visionary and open-minded here.}



\appendix

\chapter{e.g. Questionnaire}

\textit{Note: If you have large models, additional evaluation data like questionnaires or non summarized results, put them into the appendix.}


\clearpage

\listoffigures
\clearpage

\listoftables
\clearpage

\bibliography{thesis}
\bibliographystyle{acm}

\end{document}
